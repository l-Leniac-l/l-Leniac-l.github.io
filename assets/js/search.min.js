var searchEngine={post_list:$(".post-list"),index:lunr(function(){this.field("id"),this.field("title",{boost:10}),this.field("author"),this.field("description",{boost:5}),this.field("tags"),this.field("url")}),index_tag:lunr(function(){this.field("id"),this.field("title"),this.field("author"),this.field("description"),this.field("tags",{boost:10}),this.field("url")}),data:$.getJSON("/search_data.json"),populate:function(){searchEngine.data.then(function(e){$.each(e,function(e,i){searchEngine.index.add($.extend({id:e},i)),searchEngine.index_tag.add($.extend({id:e},i))})})},getQueryString:function(e){for(var i=window.location.search.substring(1),t=i.split("&"),n=0;n<t.length;n++){var s=t[n].split("=");if(s[0]==e)return s[1].split("+").join(" ")}},highlight:function(e,i){var t=null,n=null;return i.toLowerCase().match(e.toLowerCase())&&(t=i.toLowerCase().indexOf(e.toLowerCase()),n=i.substr(t,e.length)),n},perform:function(e,i){i=i||!1,searchEngine.populate();var t=null;t=i===!0?searchEngine.index_tag.search(e):searchEngine.index.search(e),searchEngine.data.then(function(i){if(t.length){searchEngine.post_list.empty();var n='<h1 class="search_msg">Showing results for "'+e+'"</h1>';searchEngine.post_list.append(n),t.forEach(function(t){var n=i[t.ref],s='<article class="post -search"><h1 class="title">'+n.title.split(searchEngine.highlight(e,n.title)).join('<span class="term">'+searchEngine.highlight(e,n.title)+"</span>")+'</h1><p class="description">'+n.description.split(searchEngine.highlight(e,n.description)).join('<span class="term">'+searchEngine.highlight(e,n.description)+"</span>")+'</p><a href="'+n.url+'" class="link">Continue Reading</a></article>';searchEngine.post_list.append(s)})}else searchEngine.post_list.html('<h1 class="search_msg">No results found for "'+e+'"</h1>')})}};window.onload=function(){if("/search_results.html"==window.location.pathname){var e=searchEngine.getQueryString("a");if(1==e){var i=searchEngine.getQueryString("query");setTimeout(function(){searchEngine.perform(i),500})}if(2==e){var i=searchEngine.getQueryString("tag",!0);setTimeout(function(){searchEngine.perform(i),500})}}};
//# sourceMappingURL=search.min.js.map
