var searchEngine={post_list:$(".post-list"),index:lunr(function(){this.field("id"),this.field("title",{boost:10}),this.field("author"),this.field("description",{boost:5}),this.field("tags"),this.field("url")}),index_tag:lunr(function(){this.field("id"),this.field("title"),this.field("author"),this.field("description"),this.field("tags",{boost:10}),this.field("url")}),data:$.getJSON("/search_data.json"),populate:function(){searchEngine.data.then(function(e){$.each(e,function(e,t){searchEngine.index.add($.extend({id:e},t)),searchEngine.index_tag.add($.extend({id:e},t))})})},getQueryString:function(e){for(var t=window.location.search.substring(1),i=t.split("&"),s=0;s<i.length;s++){var n=i[s].split("=");if(n[0]==e)return n[1].split("+").join(" ")}},highlight:function(e,t){var i=null,s=null;return t.toLowerCase().match(e.toLowerCase())&&(i=t.toLowerCase().indexOf(e.toLowerCase()),s=t.substr(i,e.length)),s},perform:function(e,t){t=t||!1,searchEngine.populate();var i=null;i=t===!0?searchEngine.index_tag.search(e):searchEngine.index.search(e),searchEngine.data.then(function(t){if(i.length){searchEngine.post_list.empty();var s='<h1 class="search_msg">Showing results for "'+e+'"</h1>';searchEngine.post_list.append(s);var n="<article class='post'><header class='header'><h1 class='title'><a href='${url}' class='link'>${title}</a></h1><small class='date'>Writed by ${author}, on ${date}</small></header><section class='content'><figure class='image'><img src='${image}'/></figure><p class=description>${description}</p></section><footer class='footer'><a href='${url}'class='link'>Continue Reading</a><ul class='tagList'><li class='glyph-icon flaticon-commerce -tag tag'></li><li class='tag'>${tags}</li></ul></footer></article>";$.template("postTemplate",n),i.forEach(function(e){item=t[e.ref],$.tmpl("postTemplate",item).appendTo(".post-list")})}else searchEngine.post_list.html('<h1 class="search_msg">No results found for "'+e+'"</h1>')})}};window.onload=function(){if("/search_results.html"==window.location.pathname){var e=searchEngine.getQueryString("a");if(1==e){var t=searchEngine.getQueryString("query");setTimeout(function(){searchEngine.perform(t),500})}if(2==e){var t=searchEngine.getQueryString("tag",!0);setTimeout(function(){searchEngine.perform(t),500})}}};
//# sourceMappingURL=search.min.js.map
